[tox]
setupdir = ..
distribute = false

[testenv]
recreate = True
commands =
  {envbindir}/coverage erase
  {envbindir}/coverage run --branch --source=appconf {envbindir}/django-admin.py test {posargs:testapp} --settings=settings
  {envbindir}/coverage report --omit=*test*
  {envbindir}/coverage html --omit=*test* -d {envtmpdir}
  echo "Type the following to open the coverage report: python -m webbrowser -t file://{envtmpdir}/index.html"
downloadcache = {toxworkdir}/_download/

[testenv:docs]
changedir = ../docs
deps =
    Sphinx
commands =
    make clean
    make html

[testenv:py25-1.2.X]
basepython = python2.5
deps = 
  coverage
  django==1.2.5

[testenv:py26-1.2.X]
basepython = python2.6
deps = 
  coverage
  django==1.2.5

[testenv:py27-1.2.X]
basepython = python2.7
deps = 
  coverage
  django==1.2.5


[testenv:py25-1.3.X]
basepython = python2.5
deps = 
  coverage
  django==1.3

[testenv:py26-1.3.X]
basepython = python2.6
deps = 
  coverage
  django==1.3

[testenv:py27-1.3.X]
basepython = python2.7
deps =
  coverage
  django==1.3
